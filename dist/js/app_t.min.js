"use strict";var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),f14;!function(t){!function(t){var e=function(){function e(){this._locales={},this._currentLang=navigator.language}return e.prototype.AddLocale=function(t,e){this._locales[t]||(this._locales[t]={});var n=this._locales[t];for(var o in e)n[o]=e[o]},e.prototype.GetString=function(t){return this.GetStringForLocale(this._currentLang,t)},e.prototype.GetStringForLocale=function(e,n){var o=this.getLocalizedString(e,n);if(o)return o;if(t.Config.DefaultLocale&&(o=this.getLocalizedString(t.Config.DefaultLocale,n)))return o;for(var r in this._locales)if(o=this.getLocalizedString(r,n))return o},e.prototype.GetLocales=function(){return this._locales},e.prototype.getLocalizedString=function(t,e){if(this._locales[t])return this._locales[t][e]},e}(),n=function(){return function(){this.DEBUG=!1,this.AsWindowPart=!1,this.WindowPartProperty="l10nProvider",this.L10nProvider=new e}}();t.Configuration=n,t.Config=new n,t.Setup=function(n){if(n)for(var o in n)t.Config[o]=n[o];if(t.Config.L10nProvider||(console.log("L10nProvider is undefined or null. Create default l10nProvider."),t.Config.L10nProvider=new e),t.Config.AsWindowPart){if(!t.Config.WindowPartProperty||0===t.Config.WindowPartProperty.length)throw"L10nProvider setting up as window property, but window property name is empty or undefined.";window[t.Config.WindowPartProperty]=t.Config.L10nProvider}},t.Localizer=function(){if(!t.Config.L10nProvider)throw"L10NProvider not initialized. Call 'Setup' method to do this.";return t.Config.L10nProvider}}(t.L10n||(t.L10n={}))}(f14||(f14={}));var f14;!function(t){!function(e){!function(n){var o=function(){function n(){this._providerPropName="l10nProvider";new e.Configuration;this.AddData(),this.PrintStringKeys(),this.AddEventListeners()}return n.prototype.GetProvider=function(){return t.L10n.Localizer()},n.prototype.AddData=function(){var t=this.GetProvider();t.AddLocale("ru",{"test.hello.world":"Привет мир!","test.title.download.counter":"Счетчик загрузок"}),t.AddLocale("en",{"test.hello.world":"Hello world!","test.title.download.counter":"Download counter","test.en.locale.value":"String value for en locale only.","test.non.ru.value":"RU locale does not contain this string."}),t.AddLocale("fr",{"test.hello.world":"Bonjour le monde!","test.title.download.counter":"Compteur de téléchargement","test.non.ru.value":"RU locale ne contient pas cette chaîne."})},n.prototype.PrintStringKeys=function(){var t=this.GetProvider().GetLocales(),e={};for(var n in t){var o=t[n];for(var r in o)e[r]?e[r]=e[r]+","+n:e[r]=n}var i=document.querySelector("#key_table");if(i)for(var n in e){var a=i.insertRow(),l=a.insertCell(0),c=a.insertCell(1);l.appendChild(document.createTextNode(n)),c.appendChild(document.createTextNode(e[n]))}},n.prototype.AddEventListeners=function(){var t=this,e=document.querySelector("#get_loc_string");e&&e.addEventListener("click",function(e){var n=t.GetProvider(),o=document.querySelector("#input_string_key").value,r=n.GetString(o);r?document.querySelector("#output_localized_string").appendChild(t.CreateItem("[navigator.language: "+navigator.language+"] "+r)):document.querySelector("#output_localized_string").appendChild(t.CreateItem("No localized string for key: "+o))},!1)},n.prototype.CreateItem=function(t){var e=document.createElement("div");return e.innerHTML=t,e},n}();n.DefaultL10nProviderTest=o}(e.Tests||(e.Tests={}))}(t.L10n||(t.L10n={}))}(f14||(f14={}));